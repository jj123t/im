syntax = "proto3";

package im.protocol;

import "google/protobuf/timestamp.proto";

message Message {
    enum Type {
        UREGISTER = 0;
        GREGISTER = 1;
        LOGIN = 2;
        UCHAT = 3;
        GCHAT = 4;
        AFF1 = 5;
        AFF2 = 6;
        AGF1 = 7;
        AGF2 = 8;
        SUSER = 9;
        SGROUP = 10;
        HEARTBEAT = 11;
    }
    Type type = 1;
    google.protobuf.Timestamp timestamp = 2;
    oneof content {
        URegister uregister = 3;
        GRegister gregister = 4;
        Login login = 5;
        UChat uchat = 6;
        GChat gchat = 7;
        AFriendFrom1 aff1 = 8;
        AFriendFrom2 aff2 = 9;
        AGroupFrom1 agf1 = 10;
        AGroupFrom2 agf2 = 11;
        SUser suser = 12;
        SGroup sgroup = 13;
        HeartBeat heartbeat = 14;
    }
}
message HeartBeat {
    int32 id = 1;
}
message Login {
    int32 user_id = 1;
    string password = 2;
}
message URegister {
    string username = 1;
    string password = 2;
    string introduction = 3;
}
message GRegister {
    int32 lord_id = 1;
    string groupname = 2;
    string introduction = 3;
}
message UChat {
    int32 sender_id = 1;
    int32 receiver_id = 2;
    string message = 3;
    int32 time = 4;
}
message GChat {
    int32 sender_id = 1;
    int32 group_id = 2;
    string message = 3;
    int32 time = 4;
}
message AFriendFrom1 {
    int32 sender_id = 1;
    int32 receiver_id = 2;
    string message = 3;
    int32 time = 4;
}
message AFriendFrom2 {
    int32 sender_id = 1;
    int32 receiver_id = 2;
    bool status = 3;
    string message = 4;
    int32 time = 5;
}
message AGroupFrom1 {
    int32 sender_id = 1;
    int32 group_id = 2;
    string message = 3;
    int32 time = 4;
}
message AGroupFrom2 {
    int32 sender_id = 1;
    int32 group_id = 2;
    bool status = 3;
    string message = 4;
    int32 time = 5;
}
message SUser {
    int32 sender_id = 1;
    string message = 2;
}
message SGroup {
    int32 sender_id = 1;
    string message = 2;
}
